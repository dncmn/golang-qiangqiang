<html>
<head>
    <meta charset="utf-8"/>
    <script type="text/javascript">

        function check_date_form() {

            var date = document.getElementById("msg").value;
            var result = date.match(/((^((1[8-9]\d{2})|([2-9]\d{3}))(-)(10|12|0?[13578])(-)(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))(-)(11|0?[469])(-)(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))(-)(0?2)(-)(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)(-)(0?2)(-)(29)$)|(^([3579][26]00)(-)(0?2)(-)(29)$)|(^([1][89][0][48])(-)(0?2)(-)(29)$)|(^([2-9][0-9][0][48])(-)(0?2)(-)(29)$)|(^([1][89][2468][048])(-)(0?2)(-)(29)$)|(^([2-9][0-9][2468][048])(-)(0?2)(-)(29)$)|(^([1][89][13579][26])(-)(0?2)(-)(29)$)|(^([2-9][0-9][13579][26])(-)(0?2)(-)(29)$))/);
            if(result==null){
                alert("请输入正确的日期格式");
                return false;
            }
            alert("ok");
        }

        function check_month_month(){
            var date = document.getElementById("mon").value;
            var result = date.match(/((^((1[8-9]\d{2})|([2-9]\d{3}))(-)(10|12|0?[13578])(-)(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))(-)(11|0?[469])(-)(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))(-)(0?2)(-)(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)(-)(0?2)(-)(29)$)|(^([3579][26]00)(-)(0?2)(-)(29)$)|(^([1][89][0][48])(-)(0?2)(-)(29)$)|(^([2-9][0-9][0][48])(-)(0?2)(-)(29)$)|(^([1][89][2468][048])(-)(0?2)(-)(29)$)|(^([2-9][0-9][2468][048])(-)(0?2)(-)(29)$)|(^([1][89][13579][26])(-)(0?2)(-)(29)$)|(^([2-9][0-9][13579][26])(-)(0?2)(-)(29)$))/);

            if(result==null){
                alert("请输入正确的日期格式");
                return false;
            }
        }

        function test3(){
            var msg="0001-01";
            var tmp=new Date(msg);

            if (tmp=="Invalid Date"){
                alert("日期格式错误")
                return
            }

            var month=tmp.getMonth();
            var year=tmp.getFullYear();

            if (month<0|| month>12  ){
                alert("月份不符合要求");
                return
            }
            if(year<=0){
                alert("年份不符合要求");
                return
            }


            alert(tmp.getFullYear()+"        "+tmp.getMonth()+"   "+tmp)
        }
        function isValidDate() {

            var dateString=document.getElementById("mon").value;
            alert(dateString)
            // First check for the pattern
            if(!/^\d{4}-\d{2}$/.test(dateString)) { //YYYY-MM
                alert("输入的日期格式不对");
                return false;
            }


            // Parse the date parts to integers
            var parts = dateString.split("-");
            var month = parseInt(parts[1], 10);
            var year = parseInt(parts[0], 10);

            // Check the ranges of month and year
            if(year < 1000 || year > 3000 || month == 0 || month > 12){
                alert("月份或者年份不对")
                return false;
            }


      alert("ok===============ok");
        }
    </script>


</head>
<body>


<input type="text" id="msg" name="msg"/><br/>
<input type="text" id="mon" name="mon"/><br/>
<input type="button" value="判断周索引" onclick="check_date_form();"/>
<input type="button" value="判断周索引" onclick="isValidDate();"/>
</body>
</html>